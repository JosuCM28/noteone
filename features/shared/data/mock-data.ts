import { Escritura, User, TipoEscrituraConfig, EstatusConfig } from '@/features/shared/types';

export const TIPOS_ESCRITURA: TipoEscrituraConfig[] = [
  {
    value: 'testamento',
    label: 'Testamento',
    description: 'Disposición de bienes para después del fallecimiento',
    icon: 'scroll',
    personaALabel: 'Testador',
  },
  {
    value: 'compraventa',
    label: 'Escritura de Compraventa',
    description: 'Transferencia de propiedad mediante pago',
    icon: 'home',
    personaALabel: 'Comprador',
    personaBLabel: 'Vendedor',
  },
  {
    value: 'donacion',
    label: 'Donación',
    description: 'Transferencia gratuita de bienes',
    icon: 'gift',
    personaALabel: 'Donante',
    personaBLabel: 'Donatario',
  },
  {
    value: 'cancelacion-hipoteca',
    label: 'Cancelación de Hipoteca',
    description: 'Liberación de gravamen hipotecario',
    icon: 'ban',
    personaALabel: 'Acreedor',
    personaBLabel: 'Deudor',
  },
  {
    value: 'cancelacion-usufructo',
    label: 'Cancelación de Usufructo',
    description: 'Extinción del derecho de usufructo',
    icon: 'x-circle',
    personaALabel: 'Titular',
  },
  {
    value: 'sucesion-testamentaria',
    label: 'Radicación de Sucesión Testamentaria',
    description: 'Trámite de herencia conforme a testamento',
    icon: 'users',
    personaALabel: 'Causante',
    personaBLabel: 'Solicitante',
  },
  {
    value: 'poder-notarial',
    label: 'Poder Notarial',
    description: 'Facultad para actuar en nombre de otro',
    icon: 'pen-tool',
    personaALabel: 'Otorgante',
    personaBLabel: 'Apoderado',
  },
  {
    value: 'constitucion-sociedad',
    label: 'Constitución de Sociedad',
    description: 'Creación de persona moral',
    icon: 'building',
    personaALabel: 'Representante',
  },
  {
    value: 'rectificacion',
    label: 'Rectificación de Acta',
    description: 'Corrección de datos en documentos oficiales',
    icon: 'file-edit',
    personaALabel: 'Titular',
  },
];

export const ESTATUS_CONFIG: EstatusConfig[] = [
  { value: 'por-liquidar', label: 'Pendiente de Pago', color: 'warning' },
  { value: 'liquidado', label: 'Liquidado', color: 'info' },
  { value: 'proceso-pago', label: 'Proceso de Pago', color: 'secondary' },
  { value: 'registro', label: 'en Inscripción Registral', color: 'info' },
  { value: 'proceso-entrega', label: 'Proceso de Entrega', color: 'secondary' },
  { value: 'entregado', label: 'Entregado', color: 'success' },
];

export const IMPUESTOS_FIJOS = {
  derechoRegistro: 2850,
  certificadoCatastral: 1250,
  constanciasAdeudo: 890,
};

const uuid = () => crypto.randomUUID();

export const MOCK_USERS: User[] = [
  {
    id: uuid(),
    nombre: 'Administrador Principal',
    usuario: 'admin',
    password: '123456',
    rol: 'admin',
    activo: true,
    creadoEn: new Date('2024-01-15'),
  },
  {
    id: uuid(),
    nombre: 'María García López',
    usuario: 'operador',
    password: '123456',
    rol: 'operador',
    activo: true,
    creadoEn: new Date('2024-02-20'),
  },
];

const createBitacora = (user: string): { id: string; at: Date; user: string; action: string; detail: string }[] => [
  {
    id: uuid(),
    at: new Date(),
    user,
    action: 'Creación de escritura',
    detail: 'Se creó la escritura en el sistema',
  },
];

const withReceipt = (sent: boolean): { reciboEnviado: boolean; fechaUltimoEnvio: Date | null } => ({
  reciboEnviado: sent,
  fechaUltimoEnvio: sent ? new Date() : null,
});

export const MOCK_ESCRITURAS: Escritura[] = [
  {
    id: uuid(),
    numeroEscritura: '1234',
    folioInterno: 'FI-2024-001',
    tipo: 'compraventa',
    estatus: 'entregado',
    fechaCreacion: new Date('2024-06-01'),
    fechaFirma: new Date('2024-06-15'),
    notas: 'Propiedad ubicada en Col. Centro',
    personaA: { rolLabel: 'Comprador', nombre: 'Juan Pérez Martínez', telefono: '55 1234 5678' },
    personaB: { rolLabel: 'Vendedor', nombre: 'Ana López García', telefono: '55 9876 5432' },
    presupuesto: {
      valorBase: 2500000,
      traslado: 125000,
      derechoRegistro: 2850,
      certificadoCatastral: 1250,
      constanciasAdeudo: 890,
      subtotalPresupuesto: 2629990,
      honorarios: 45000,
      isr: 75000,
      totalFinal: 2749990,
    },
    adjuntos: [
      { id: uuid(), name: 'Identificacion_comprador.pdf', size: 1240000, type: 'application/pdf', uploadedAt: new Date(), status: 'uploaded' },
    ],
    bitacora: createBitacora('admin'),
    ...withReceipt(true),
  },
  {
    id: uuid(),
    numeroEscritura: '1235',
    folioInterno: 'FI-2024-002',
    tipo: 'testamento',
    estatus: 'liquidado',
    fechaCreacion: new Date('2024-06-05'),
    fechaFirma: new Date('2024-06-20'),
    notas: null,
    personaA: { rolLabel: 'Testador', nombre: 'Roberto Sánchez Díaz', telefono: '55 2345 6789' },
    presupuesto: {
      valorBase: 0,
      traslado: 0,
      derechoRegistro: 2850,
      certificadoCatastral: 1250,
      constanciasAdeudo: 890,
      subtotalPresupuesto: 4990,
      honorarios: 8500,
      isr: 0,
      totalFinal: 13490,
    },
    adjuntos: [],
    bitacora: createBitacora('operador'),
    ...withReceipt(true),
  },
  {
    id: uuid(),
    numeroEscritura: '1236',
    folioInterno: 'FI-2024-003',
    tipo: 'donacion',
    estatus: 'por-liquidar',
    fechaCreacion: new Date('2024-06-10'),
    fechaFirma: null,
    notas: 'Donación de terreno familiar',
    personaA: { rolLabel: 'Donante', nombre: 'María Elena Ruiz', telefono: '55 3456 7890' },
    personaB: { rolLabel: 'Donatario', nombre: 'Carlos Ruiz Hernández', telefono: '55 4567 8901' },
    presupuesto: {
      valorBase: 850000,
      traslado: 42500,
      derechoRegistro: 2850,
      certificadoCatastral: 1250,
      constanciasAdeudo: 890,
      subtotalPresupuesto: 897490,
      honorarios: 25000,
      isr: 0,
      totalFinal: 922490,
    },
    adjuntos: [],
    bitacora: createBitacora('admin'),
    ...withReceipt(false),
  },
  {
    id: uuid(),
    numeroEscritura: '1237',
    folioInterno: 'FI-2024-004',
    tipo: 'cancelacion-hipoteca',
    estatus: 'registro',
    fechaCreacion: new Date('2024-06-12'),
    fechaFirma: new Date('2024-06-25'),
    notas: 'Hipoteca con Banco Nacional',
    personaA: { rolLabel: 'Acreedor', nombre: 'Banco Nacional S.A.', telefono: '800 123 4567' },
    personaB: { rolLabel: 'Deudor', nombre: 'Fernando Mendoza Luna', telefono: '55 5678 9012' },
    presupuesto: {
      valorBase: 0,
      traslado: 0,
      derechoRegistro: 2850,
      certificadoCatastral: 1250,
      constanciasAdeudo: 890,
      subtotalPresupuesto: 4990,
      honorarios: 12000,
      isr: 0,
      totalFinal: 16990,
    },
    adjuntos: [
      { id: uuid(), name: 'Carta_liberacion.pdf', size: 520000, type: 'application/pdf', uploadedAt: new Date(), status: 'uploaded' },
    ],
    bitacora: createBitacora('operador'),
    ...withReceipt(true),
  },
  {
    id: uuid(),
    numeroEscritura: '1238',
    folioInterno: 'FI-2024-005',
    tipo: 'poder-notarial',
    estatus: 'entregado',
    fechaCreacion: new Date('2024-06-14'),
    fechaFirma: new Date('2024-06-28'),
    notas: 'Poder amplio para actos de administración',
    personaA: { rolLabel: 'Otorgante', nombre: 'Lucía Fernández Mora', telefono: '55 6789 0123' },
    personaB: { rolLabel: 'Apoderado', nombre: 'Ricardo Fernández Mora', telefono: '55 7890 1234' },
    presupuesto: {
      valorBase: 0,
      traslado: 0,
      derechoRegistro: 2850,
      certificadoCatastral: 1250,
      constanciasAdeudo: 890,
      subtotalPresupuesto: 4990,
      honorarios: 15000,
      isr: 0,
      totalFinal: 19990,
    },
    adjuntos: [],
    bitacora: createBitacora('admin'),
    ...withReceipt(true),
  },
  {
    id: uuid(),
    numeroEscritura: '1239',
    folioInterno: 'FI-2024-006',
    tipo: 'compraventa',
    estatus: 'proceso-pago',
    fechaCreacion: new Date('2024-07-01'),
    fechaFirma: null,
    notas: 'Departamento en zona residencial',
    personaA: { rolLabel: 'Comprador', nombre: 'Patricia Gómez Vega', telefono: '55 8901 2345' },
    personaB: { rolLabel: 'Vendedor', nombre: 'Inmobiliaria del Norte S.A.', telefono: '55 9012 3456' },
    presupuesto: {
      valorBase: 3200000,
      traslado: 160000,
      derechoRegistro: 2850,
      certificadoCatastral: 1250,
      constanciasAdeudo: 890,
      subtotalPresupuesto: 3364990,
      honorarios: 55000,
      isr: 96000,
      totalFinal: 3515990,
    },
    adjuntos: [
      { id: uuid(), name: 'Avaluo_comercial.pdf', size: 2100000, type: 'application/pdf', uploadedAt: new Date(), status: 'uploaded' },
      { id: uuid(), name: 'Predial_2024.pdf', size: 450000, type: 'application/pdf', uploadedAt: new Date(), status: 'uploaded' },
    ],
    bitacora: createBitacora('operador'),
    ...withReceipt(false),
  },
  {
    id: uuid(),
    numeroEscritura: '1240',
    folioInterno: 'FI-2024-007',
    tipo: 'sucesion-testamentaria',
    estatus: 'registro',
    fechaCreacion: new Date('2024-07-05'),
    fechaFirma: new Date('2024-07-18'),
    notas: 'Sucesión de bienes inmuebles y cuentas bancarias',
    personaA: { rolLabel: 'Causante', nombre: 'José María Torres (†)', telefono: 'N/A' },
    personaB: { rolLabel: 'Solicitante', nombre: 'Gabriela Torres Méndez', telefono: '55 0123 4567' },
    presupuesto: {
      valorBase: 1800000,
      traslado: 90000,
      derechoRegistro: 2850,
      certificadoCatastral: 1250,
      constanciasAdeudo: 890,
      subtotalPresupuesto: 1894990,
      honorarios: 35000,
      isr: 0,
      totalFinal: 1929990,
    },
    adjuntos: [],
    bitacora: createBitacora('admin'),
    ...withReceipt(true),
  },
  {
    id: uuid(),
    numeroEscritura: '1241',
    folioInterno: 'FI-2024-008',
    tipo: 'constitucion-sociedad',
    estatus: 'liquidado',
    fechaCreacion: new Date('2024-07-10'),
    fechaFirma: new Date('2024-07-22'),
    notas: 'Sociedad de Responsabilidad Limitada',
    personaA: { rolLabel: 'Representante', nombre: 'Alberto Ramírez Solís', telefono: '55 1234 8765' },
    presupuesto: {
      valorBase: 500000,
      traslado: 25000,
      derechoRegistro: 2850,
      certificadoCatastral: 1250,
      constanciasAdeudo: 890,
      subtotalPresupuesto: 529990,
      honorarios: 28000,
      isr: 0,
      totalFinal: 557990,
    },
    adjuntos: [
      { id: uuid(), name: 'Acta_constitutiva.pdf', size: 1800000, type: 'application/pdf', uploadedAt: new Date(), status: 'uploaded' },
    ],
    bitacora: createBitacora('operador'),
    ...withReceipt(true),
  },
];
